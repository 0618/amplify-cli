{
	"Cognito": {
		"inputs": [
			{
				"key": "authSelections",
				"question": "Select the authentication/authorization services that you want to use:",
				"required": true,
				"type": "multiselect",
				"options": [
					"Cognito Identity Pools",
					"Cognito User Pools",
					"Federated Identity Providers"
				]
			},
			{
				"key": "resourceName",
				"question": "Please provide a friendly name for your resource that will be used to label this category in the project:",
				"validation": {
					"operator": "regex",
					"value": "^[a-zA-Z0-9]+$",
					"onErrorMsg": "Resource name should be alphanumeric"
				},
				"required": true
			},
			{
				"key": "userPoolName",
				"question": "Please provide a name for your user pool:",
				"required": true,
				"andConditions": [
					{
						"key": "authSelections",
						"value": "Cognito User Pools",
						"operator": "includes"
					}
				]
			},
			{
				"key": "mfaConfiguration",
				"question": "Please choose a multifactor authentication (MFA) configuration:",
				"required": true,
				"type": "list",
				"options": [
					"ON",
					"OFF",
					"OPTIONAL"],
				"andConditions": [
					{
						"key": "authSelections",
						"value": "Cognito User Pools",
						"operator": "includes"
					}
				]
			},
			{
				"key": "smsAuthenticationMessage",
				"question": "Please specify an SMS authentication message:",
				"required": true,
				"type": "input",
				"validation": {
					"operator": "includes",
					"value": "{####}",
					"onErrorMsg": "Your SMS authentication message must include '{####}' representing the authentication code that the user will receive."
				},
				"andConditions": [
					{
						"key": "authSelections",
						"value": "Cognito User Pools",
						"operator": "includes"
					},
					{
						"key": "mfaConfiguration",
						"value": "OFF",
						"operator": "!="
					}
				]
			},
			{
				"key": "smsVerificationMessage",
				"question": "Please specify an SMS verification message:",
				"required": true,
				"type": "input",
				"validation": {
					"operator": "includes",
					"value": "{####}",
					"onErrorMsg": "Your SMS verification message must include '{####}' representing the verification code that the user will receive."
				},
				"andConditions": [
					{
						"key": "authSelections",
						"value": "Cognito User Pools",
						"operator": "includes"
					},
					{
						"key": "mfaConfiguration",
						"value": "OFF",
						"operator": "!="
					}
				]
			},
			{
				"key": "defaultPasswordPolicy",
				"question": "Do you want to use the default password policy for this User Pool?",
				"required": true,
				"type": "confirm",
				"andConditions": [
					{
						"key": "authSelections",
						"value": "Cognito User Pools",
						"operator": "includes"
					}
				]
			},
			{
				"key": "passwordPolicyMinLength",
				"question": "Enter the minimum password length for this User Pool:",
				"required": true,
				"type": "input",
				"validation": {
					"operator": "range",
					"value": {"min": 6, "max": 98},
					"onErrorMsg": "The minimum password length must be a number and must be greater than 5 and less than 99."
				},
				"andConditions": [
					{
						"key": "defaultPasswordPolicy",
						"value": false,
						"operator": "="
					}
				]
			},
			{
				"key": "passwordPolicyCharacters",
				"question": "Select the password character requirements for your userpool:",
				"required": true,
				"type": "multiselect",
				"options": [
					"Requires Lowercase",
					"Requires Uppercase",
					"Requires Numbers",
					"Requires Symbols"
				],
				"andConditions": [
					{
						"key": "defaultPasswordPolicy",
						"value": false,
						"operator": "="
					}
				]
			},
			{
				"key": "editRequiredAttributes",
				"question": "Userpool users are created with a standard set of attributes defined by the OpenID Connect specification.  Do you want to mark any of these are required?",
				"required": true,
				"type": "confirm",
				"andConditions": [
					{
						"key": "authSelections",
						"value": "Cognito User Pools",
						"operator": "includes"
					}
				]
			},
			{
				"key": "requiredAttributes",
				"question": "Userpool users are created with a standard set of attributes defined by the OpenID Connect specification.  Do you want to mark any of these are required?",
				"required": true,
				"type": "multiselect",
				"map": "coreAttributeMap",
				"andConditions": [
					{
						"key": "editRequiredAttributes",
						"value": true,
						"operator": "="
					}
				]
			},
			{
				"key": "createUserpoolClient",
				"question": "Do you want to create an App Client for your Userpool?",
				"required": true,
				"type": "confirm",
				"andConditions": [
					{
						"key": "authSelections",
						"value": "Cognito User Pools",
						"operator": "includes"
					}
				]
			},
			{
				"key": "userpoolClientName",
				"question": "Provide a name for the App Client: ",
				"required": true,
				"validation": {
					"operator": "regex",
					"value": "^.{1,128}$",
					"onErrorMsg": "App Client Name must be at least 1 character and no more than 128."
				},
				"andConditions": [
					{
						"key": "createUserpoolClient",
						"value": true,
						"operator": "="
					}
				]
			},
			{
				"key": "userpoolClientAuthFlow",
				"question": "Select the authentication flow you want to use:",
				"required": true,
				"type": "multiselect",
				"map": "authFlowMap",
				"andConditions": [
					{
						"key": "createUserpoolClient",
						"value": true,
						"operator": "="
					}
				]
			},
			{
				"key": "userpoolClientGenerateSecret",
				"question": "Do you want to generate a secret for your app?",
				"required": true,
				"type": "confirm",
				"andConditions": [
					{
						"key": "createUserpoolClient",
						"value": true,
						"operator": "="
					}
				]
			},
			{
				"key": "userpoolClientRefreshTokenValidity",
				"question": "Specify the app's refresh token expiration period (in days):",
				"required": true,
				"andConditions": [
					{
						"key": "createUserpoolClient",
						"value": true,
						"operator": "="
					}
				]
			},
			{
				"key": "userpoolClientSetAttributes",
				"question": "Do you want to specify the user attributes this app can read and write?",
				"required": true,
				"type":"confirm",
				"andConditions": [
					{
						"key": "createUserpoolClient",
						"value": true,
						"operator": "="
					}
				]
			},
			{
				"key": "userpoolClientReadAttributes",
				"question": "Specify read attributes:",
				"required": true,
				"type": "multiselect",
				"map": "appClientReadAttributeMap",
				"andConditions": [
					{
						"key": "userpoolClientSetAttributes",
						"value": true,
						"operator": "="
					}
				]
			},
			{
				"key": "userpoolClientWriteAttributes",
				"question": "Specify write attributes:",
				"required": true,
				"type": "multiselect",				
				"map": "appClientReadAttributeMap",
				"andConditions": [
					{
						"key": "userpoolClientSetAttributes",
						"value": true,
						"operator": "="
					}
				]
			},
			{
				"key": "identityPoolName",
				"question": "Please enter a name for your identity pool.",
				"required": true,
				"andConditions": [
					{
						"key": "authSelections",
						"value": "Cognito Identity Pools",
						"operator": "includes"
					}
				]
			}
		],
		"cfnFilename": "auth-template.yml.ejs",
		"defaultValuesFilename": "cognito-defaults.js",
		"serviceWalkthroughFilename": "core-questions.js",
		"stringMapFilename": "string-maps.js",
		"provider": "amplify-provider-awscloudformation"
	}
}